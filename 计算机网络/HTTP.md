# HTTP和HTTPS

## 错误码

| 状态码 | 含义 |
| ---- | ---- |
| 1XX | 信息 |
| 2XX | 成功 |
| 3XX | 重定向 |
| 4XX | 客户端出错 |
| 5XX | 服务端出错 |

### 常见

100 ：表示可以继续发送或者

200：成功发送请求

301：永久重定向

302：临时重定向

400：请求报文语法错误

401：认证不通过

403：请求拒绝

404：找不到对应资源

500：服务器执行出错

502：网关或代理服务器出错，无法响应上游服务器的请求

503：服务器超负荷或正在维护

504：网关或代理服务器超时，无法连接上游服务器

## 301重定向和302重定向的区别

301重定向是永久的重定向，搜索引擎在抓取新的内容的同时也将旧的网址替换为了重定向之后的网址

302重定向只是暂时的重定向，搜索引擎会抓取新的内容而保留旧的地址，因为服务器返回302，所以，搜索搜索引擎认为新的网址是暂时的

PS：跳转式网站挟持：302问题，搜索引擎搜索内容遇到302会跳转网站搜索，当某A网站引用302跳转时会引入跳转网站内容，但是进入的仍然为网站A

## RESTful

一套编写接口的协议，协议规定如何编写以及如何设置返回值、状态码等信息

 就是用URL定位资源，用HTTP描述操作（GET，POST，PUT，DELETE，OPTION）

例子：

| 例子                               | 结果 |
| ---------------------------------- | ---- |
| a/friend,操作：GET -> 获取朋友信息 | √    |
| a/getfirend  -> 获取朋友信息       | ×    |

## RPC

简单说来就是类似本地调用的方式调用远程方法(其他服务器)

定义好确定的数据结构与返回值，使用protobuf

## HTTPS

https=http+ssl/tls

ssl是工作在传输层之上应用层之下，OSI中是会话层和表示层

主要作用 ：建立安全通道保证数据安全，认证网站真实性

http端口是80，https端口是443

http是明文传输，https是加密传输

## HTTPS通信步骤

客户端将它所支持的算法列表和一个用作产生密钥的随机数发送给服务器；
服务器从算法列表中选择一种加密算法，并将它和一份包含服务器公用密钥的证书发送给客户端；该证书还包含了用于认证目的的服务器标识，服务器同时还提供了一个用作产生密钥的随机数；
客户端对服务器的证书进行验证，并抽取服务器的公用密钥；然后，再产生一个称作pre_master_secret的随机密码串，并使用服务器的公用密钥对其进行加密，并将加密后的信息发送给服务器；
客户端与服务器端根据pre_master_secret以及客户端与服务器的随机数值独立计算出加密和MAC密钥
客户端将所有握手消息的MAC值发送给服务器；
服务器将所有握手消息的MAC值发送给客户端。 

优点：保障用户数据，更加安全

缺点：价格高，加密解密算法加重了服务器负担，会比http慢