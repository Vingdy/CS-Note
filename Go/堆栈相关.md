# 堆栈相关

栈：一种先进后出的数据结构

堆：一种特殊的存储区

## Go中的堆栈分配情况

由编译器自己检测并分配，这叫逃逸分析；

但一般在Go中，无论是new出的指针还是普通的值类型，如果没有逃出函数的作用域，就是在栈上；

如果逃出的函数的作用域，就会重新分配到堆上（例如返回局部变量指针）；

## 栈溢出情况

```
func f(){

	return f()

}
```

当以函数作为函数的返回值时，会在栈上不停地增加直到最顶层的函数返回，由于这个函数没有返回，会一直往栈插入，直至溢出

