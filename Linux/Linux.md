# Linux

## 常见命令

cd:进入目录

cdmir:创建文件夹

rm:删除文件

find:查找文件

cat:打开文件

top:查看CPU使用情况

ps:查看进程

ls:查看目录

cp:复制文件

mv:移动文件

 pstree:用于查看进程树之间的关系,即哪个进程是父进程,哪个是子进程

### 面试问题

#### linux打开文件是一次性全部加载吗

不是，内存有物理内存和虚拟内存，虚拟内存在硬盘上，会根据情况加载到内存中。

#### linux怎么连续查看文件

cat a.txt>>b.txt(把a的内容放到b后面，不会覆盖)

#### 查看文件最后几行

cat filename|tail -n 1000(从1000行开始显示就是+1000，-f是监视文件尾部内容)

#### 动态查看CPU情况的命令 

直接输入top就是了，id空闲，us是用户空间，sy是系统空间

#### 了解Linux下的I/O多路复用吗讲一下

https://www.cnblogs.com/dunitian/p/10099343.html 

linuxIO多路复用技术提供一个单进程、单线程监听多个IO读写时间的机制。其基本原理是各个IO将句柄设置为非阻塞IO,然后将各个IO句柄注册到linux提供的IO复用函数上(select,poll或者epoll),如果某个句柄的IO数据就绪,则函数返回通知io ready。调用者进行后续的read write操作。多路复用函数帮我们进行了多个非阻塞IO数据是否就绪的轮询操作,只不过IO多路复用函数的轮询更有效率,因为函数一次性传递文件描述符到内核态,在内核态中进行轮询(epoll则是进行等待边缘事件的触发),不必反复进行用户态和内核态的切换。io多路复用的特点：内核轮询多个io在内核缓冲区是否ready，适合高并发网络服务应用。高并发网络服务应用如果采用阻塞io怎么实现？需要为每个socket连接启动一个线程，频繁的线程切换会导致性能低下。如果采用非阻塞io怎么实现？需要进程轮询每个io，如果有一万个socket连接，确定哪个连接ready需要进行1万次从用户态到内核态的切换，性能低下。

常用的IO多路复用方式有select、poll和epoll

 ![3.IOå¤ç¨](https://img2018.cnblogs.com/blog/1127869/201812/1127869-20181210212908314-1267377747.png) 

①select

调用select会遍历文件描述符， 使用3个位图表示三种文件描述符 ，当某个文件描述符变为准备状态就阻塞并对其进行操作，有最大数量限制

②poll

同select，但采用pollfd数组来设定需要监视的文件描述符，相比select需要为每个分组检查maxfd+1个比特位，能监视更多的文件描述符，效率更高 

③epoll

epoll通过epoll_ctl()来注册一个文件描述符,一旦基于某个文件描述符就绪时,内核会采用类似callback的回调机制,迅速激活这个文件描述符,当进程调用epoll_wait()时便得到通知，不会轮询文件描述符来操作 IO，当一个IO完毕就直接通知刷新，而不是一直轮询判断可读写的状态来刷新（监听回调的机制）